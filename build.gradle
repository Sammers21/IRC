plugins {
    id 'java'
}

dependencies {
    // https://mvnrepository.com/artifact/io.netty/netty-all
    compile group: 'io.netty', name: 'netty-all', version: '4.1.24.Final'
}

repositories {
    jcenter()
}

jar {
    doFirst {
        manifest {
            if (!configurations.compile.isEmpty()) {
                attributes(
                        'Class-Path': configurations.compile.collect {
                            it.toURI().toString()
                        }.join(' '),
                        'Main-Class': 'App'
                )
            }
        }
    }
}